.code-block-wrapper {
  margin: 1rem 0;
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.code-block-wrapper:has(.theme-dark),
.code-block-wrapper:has(.theme-github-dark),
.code-block-wrapper:has(.theme-monokai),
.code-block-wrapper:has(.theme-dracula),
.code-block-wrapper:has(.theme-nord) {
  border: 1px solid #333;
  background: #1e1e1e;
}

.code-block-wrapper:has(.theme-light),
.code-block-wrapper:has(.theme-github-light) {
  border: 1px solid #e0e0e0;
  background: #f5f5f5;
}

/* Toolbar Styles */
.code-block-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.code-block-toolbar-left {
  display: flex;
  gap: 8px;
  align-items: center;
}

.code-block-toolbar-actions {
  display: flex;
  gap: 4px;
  align-items: center;
}

/* Dark Toolbar Themes */
.code-block-toolbar.theme-dark,
.code-block-toolbar.theme-github-dark,
.code-block-toolbar.theme-monokai,
.code-block-toolbar.theme-dracula,
.code-block-toolbar.theme-nord {
  background: #2d2d2d;
  border-bottom: 1px solid #3d3d3d;
}

/* Light Toolbar Themes */
.code-block-toolbar.theme-light,
.code-block-toolbar.theme-github-light {
  background: #f5f5f5;
  border-bottom: 1px solid #e0e0e0;
}

.code-block-action-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px 8px;
  background: transparent;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
}

/* Action Buttons - Dark Themes */
.code-block-toolbar.theme-dark .code-block-action-btn,
.code-block-toolbar.theme-github-dark .code-block-action-btn,
.code-block-toolbar.theme-monokai .code-block-action-btn,
.code-block-toolbar.theme-dracula .code-block-action-btn,
.code-block-toolbar.theme-nord .code-block-action-btn {
  border: 1px solid #555;
  color: #e0e0e0;
}

.code-block-toolbar.theme-dark .code-block-action-btn:hover,
.code-block-toolbar.theme-github-dark .code-block-action-btn:hover,
.code-block-toolbar.theme-monokai .code-block-action-btn:hover,
.code-block-toolbar.theme-dracula .code-block-action-btn:hover,
.code-block-toolbar.theme-nord .code-block-action-btn:hover {
  background: #3d3d3d;
  border-color: #777;
}

/* Action Buttons - Light Themes */
.code-block-toolbar.theme-light .code-block-action-btn,
.code-block-toolbar.theme-github-light .code-block-action-btn {
  border: 1px solid #d0d0d0;
  color: #333333;
}

.code-block-toolbar.theme-light .code-block-action-btn:hover,
.code-block-toolbar.theme-github-light .code-block-action-btn:hover {
  background: #e8e8e8;
  border-color: #999999;
}

/* Delete Button Hover - All Themes */
.code-block-delete-btn:hover {
  color: #d32f2f;
  border-color: #d32f2f;
}

/* Select Dropdowns - Dark Themes */
.code-block-toolbar.theme-dark .ant-select-selector,
.code-block-toolbar.theme-github-dark .ant-select-selector,
.code-block-toolbar.theme-monokai .ant-select-selector,
.code-block-toolbar.theme-dracula .ant-select-selector,
.code-block-toolbar.theme-nord .ant-select-selector {
  background: #1e1e1e !important;
  border: 1px solid #555 !important;
  color: #e0e0e0 !important;
}

.code-block-toolbar.theme-dark .ant-select-arrow,
.code-block-toolbar.theme-github-dark .ant-select-arrow,
.code-block-toolbar.theme-monokai .ant-select-arrow,
.code-block-toolbar.theme-dracula .ant-select-arrow,
.code-block-toolbar.theme-nord .ant-select-arrow {
  color: #e0e0e0 !important;
}

.code-block-toolbar.theme-dark .ant-select-selection-item,
.code-block-toolbar.theme-github-dark .ant-select-selection-item,
.code-block-toolbar.theme-monokai .ant-select-selection-item,
.code-block-toolbar.theme-dracula .ant-select-selection-item,
.code-block-toolbar.theme-nord .ant-select-selection-item {
  color: #e0e0e0 !important;
}

/* Select Dropdowns - Light Themes */
.code-block-toolbar.theme-light .ant-select-selector,
.code-block-toolbar.theme-github-light .ant-select-selector {
  background: #ffffff !important;
  border: 1px solid #d0d0d0 !important;
  color: #333333 !important;
}

.code-block-toolbar.theme-light .ant-select-arrow,
.code-block-toolbar.theme-github-light .ant-select-arrow {
  color: #333333 !important;
}

.code-block-toolbar.theme-light .ant-select-selection-item,
.code-block-toolbar.theme-github-light .ant-select-selection-item {
  color: #333333 !important;
}

/* Dropdown Menu Styling for Code Block Selects */
/* Target dropdowns from code block toolbar - these render in body */
body .ant-select-dropdown:has(.rc-virtual-list) {
  z-index: 9999 !important;
}

/* Default to dark theme for code block dropdowns */
body .code-block-toolbar ~ * .ant-select-dropdown,
body:has(.code-block-toolbar.theme-dark) .ant-select-dropdown,
body:has(.code-block-toolbar.theme-github-dark) .ant-select-dropdown,
body:has(.code-block-toolbar.theme-monokai) .ant-select-dropdown,
body:has(.code-block-toolbar.theme-dracula) .ant-select-dropdown,
body:has(.code-block-toolbar.theme-nord) .ant-select-dropdown {
  background: #1e1e1e !important;
  border: 1px solid #3d3d3d !important;
}

body:has(.code-block-toolbar.theme-dark) .ant-select-dropdown .ant-select-item,
body:has(.code-block-toolbar.theme-github-dark) .ant-select-dropdown .ant-select-item,
body:has(.code-block-toolbar.theme-monokai) .ant-select-dropdown .ant-select-item,
body:has(.code-block-toolbar.theme-dracula) .ant-select-dropdown .ant-select-item,
body:has(.code-block-toolbar.theme-nord) .ant-select-dropdown .ant-select-item {
  color: #e0e0e0 !important;
  background: transparent !important;
}

body:has(.code-block-toolbar.theme-dark) .ant-select-dropdown .ant-select-item:hover,
body:has(.code-block-toolbar.theme-github-dark) .ant-select-dropdown .ant-select-item:hover,
body:has(.code-block-toolbar.theme-monokai) .ant-select-dropdown .ant-select-item:hover,
body:has(.code-block-toolbar.theme-dracula) .ant-select-dropdown .ant-select-item:hover,
body:has(.code-block-toolbar.theme-nord) .ant-select-dropdown .ant-select-item:hover {
  background: #2d2d2d !important;
}

body:has(.code-block-toolbar.theme-dark) .ant-select-dropdown .ant-select-item-option-selected,
body:has(.code-block-toolbar.theme-github-dark) .ant-select-dropdown .ant-select-item-option-selected,
body:has(.code-block-toolbar.theme-monokai) .ant-select-dropdown .ant-select-item-option-selected,
body:has(.code-block-toolbar.theme-dracula) .ant-select-dropdown .ant-select-item-option-selected,
body:has(.code-block-toolbar.theme-nord) .ant-select-dropdown .ant-select-item-option-selected {
  background: #2d2d2d !important;
  color: #1890ff !important;
}

/* Light theme dropdowns */
body:has(.code-block-toolbar.theme-light) .ant-select-dropdown,
body:has(.code-block-toolbar.theme-github-light) .ant-select-dropdown {
  background: #ffffff !important;
  border: 1px solid #e0e0e0 !important;
}

body:has(.code-block-toolbar.theme-light) .ant-select-dropdown .ant-select-item,
body:has(.code-block-toolbar.theme-github-light) .ant-select-dropdown .ant-select-item {
  color: #333333 !important;
  background: transparent !important;
}

body:has(.code-block-toolbar.theme-light) .ant-select-dropdown .ant-select-item:hover,
body:has(.code-block-toolbar.theme-github-light) .ant-select-dropdown .ant-select-item:hover {
  background: #f5f5f5 !important;
}

body:has(.code-block-toolbar.theme-light) .ant-select-dropdown .ant-select-item-option-selected,
body:has(.code-block-toolbar.theme-github-light) .ant-select-dropdown .ant-select-item-option-selected {
  background: #e6f7ff !important;
  color: #1890ff !important;
}

/* Code Content */
.code-block-content {
  margin: 0;
  padding: 16px;
  overflow-x: auto;
  font-family: "Consolas", "Monaco", "Courier New", monospace;
  font-size: 14px;
  line-height: 1.6;
  position: relative;
}

.code-block-content code {
  display: block;
  background: transparent;
  padding: 0;
  color: inherit;
  font-family: inherit;
  white-space: pre;
}

.code-block-content.wrapped {
  overflow-x: hidden;
}

.code-block-content.wrapped code {
  white-space: pre-wrap;
  word-break: break-word;
}

/* Dark Theme (Default) */
.code-block-content.theme-dark {
  background: #1e1e1e;
  color: #d4d4d4;
}

.theme-dark .hljs-comment,
.theme-dark .hljs-quote {
  color: #6a9955;
  font-style: italic;
}

.theme-dark .hljs-keyword,
.theme-dark .hljs-selector-tag,
.theme-dark .hljs-literal,
.theme-dark .hljs-type {
  color: #569cd6;
}

.theme-dark .hljs-string,
.theme-dark .hljs-title,
.theme-dark .hljs-name {
  color: #ce9178;
}

.theme-dark .hljs-number,
.theme-dark .hljs-symbol,
.theme-dark .hljs-bullet {
  color: #b5cea8;
}

.theme-dark .hljs-function,
.theme-dark .hljs-params {
  color: #dcdcaa;
}

.theme-dark .hljs-attr,
.theme-dark .hljs-variable,
.theme-dark .hljs-property {
  color: #9cdcfe;
}

.theme-dark .hljs-built_in,
.theme-dark .hljs-class {
  color: #4ec9b0;
}

.theme-dark .hljs-tag {
  color: #808080;
}

.theme-dark .hljs-meta {
  color: #d7ba7d;
}

/* Light Theme */
.code-block-content.theme-light {
  background: #ffffff;
  color: #000000;
}

.theme-light .hljs-comment,
.theme-light .hljs-quote {
  color: #008000;
  font-style: italic;
}

.theme-light .hljs-keyword,
.theme-light .hljs-selector-tag,
.theme-light .hljs-literal,
.theme-light .hljs-type {
  color: #0000ff;
}

.theme-light .hljs-string,
.theme-light .hljs-title,
.theme-light .hljs-name {
  color: #a31515;
}

.theme-light .hljs-number,
.theme-light .hljs-symbol,
.theme-light .hljs-bullet {
  color: #098658;
}

.theme-light .hljs-function,
.theme-light .hljs-params {
  color: #795e26;
}

.theme-light .hljs-attr,
.theme-light .hljs-variable,
.theme-light .hljs-property {
  color: #001080;
}

.theme-light .hljs-built_in,
.theme-light .hljs-class {
  color: #267f99;
}

/* Syntax highlighting for lowlight */
.code-block-content .hljs {
  display: block;
  overflow-x: auto;
}

/* Selection */
.code-block-content ::selection {
  background: rgba(128, 203, 196, 0.3);
}

/* Scrollbar for code blocks */
.code-block-content::-webkit-scrollbar {
  height: 8px;
}

.code-block-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
}

.code-block-content::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 4px;
}

.code-block-content::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}
